!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequirea071;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequirea071=o);var a,i=o("bpxeT"),s=o("2TvXO"),c=o("2Vquh"),l=(new Date).toISOString().split("T")[0],d=(a=e(i)(e(s).mark((function t(){var n,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.getTrendingMovies)();case 2:return n=e.sent,r=n.filter((function(e){return e.release_date<=l})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),t)}))),function(){return a.apply(this,arguments)}),u=function(e){return e&&0!==e.length?e[Math.floor(Math.random()*e.length)]:null},p=function(){var t=e(i)(e(s).mark((function t(){var n,r,o,a,i,l,p,v,f,g,h,b;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.getGenres)();case 2:return n=e.sent,e.next=5,d();case 5:return r=e.sent,o=u(r),e.next=9,(0,c.getMovieTrailer)(o.id);case 9:a=e.sent,i=document.querySelector("#hero-section"),l=document.querySelector("#hero-title"),p=document.querySelector("#hero-rating"),v=document.querySelector("#hero-description"),f=document.querySelector(".hero-buttons"),g=document.querySelector(".movie-card"),h=document.querySelector(".movie-trailer-container"),o?(b=o.genre_ids.map((function(e){return n[e]||"Unknown"})).join(", "),i.style.background="linear-gradient(87deg, #111 33.93%, rgba(17, 17, 17, 0.00) 78.91%), url('https://image.tmdb.org/t/p/original".concat(o.backdrop_path,"') lightgray"),i.style.backgroundSize="cover",i.style.backgroundPosition="center",i.style.backgroundRepeat="no-repeat",l.textContent=o.title,p.textContent="Rating:  ".concat(o.vote_average),v.textContent=(t=o.overview,s=250,t.length>s?t.slice(0,s)+"...":t),f.addEventListener("click",(function(e){if(e.preventDefault(),"more-details"===e.target.id){var t='\n        \n        <div class="hero-movie-details-container">\n        <button class="close-btn">X</button>\n          <img src="https://image.tmdb.org/t/p/original'.concat(o.poster_path,'" alt="').concat(o.title,'" width="248" height="315">\n           <div class="hero-movie-details">\n          <h3 class="hero-movie-title">').concat(o.title,'</h3>\n          <div class="hero-movie-info-container">\n            <div class="hero-movie-info">\n              <p class="hero-info-title"</p>Vote / Votes</p>\n              <p><span class="hero-rating-span">').concat(o.vote_average,'</span> / <span class="hero-rating-span">').concat(o.vote_count,'</span></p>\n            </div>\n            <div class="hero-movie-info">\n              <p class="hero-info-title">Popularity</p><span>').concat(o.popularity,'</span>\n            </div>\n            <div class="hero-movie-info">\n              <p class="hero-info-title">Genre</p><span>').concat(b,'</span>\n            </div>\n          </div>\n          <div class="hero-about-info">\n          <p class="hero-info-title">ABOUT</p>\n          <p class="hero-overview">').concat(o.overview,'</p>\n          </div>\n\n          <button class="add-to-library-btn">Add to my library</button>\n          </div>\n        </div>\n        ');g.innerHTML=t,g.classList.remove("is-hidden"),document.querySelector(".close-btn").addEventListener("click",(function(){g.classList.add("is-hidden")}));var n=document.querySelector(".add-to-library-btn");n.addEventListener("click",(function(){i(o),n.textContent=r(o.id)?"Remove from library":"Add to my library"}));var r=function(e){return(JSON.parse(localStorage.getItem("library"))||[]).some((function(t){return t.id==e}))},i=function(e){var t=JSON.parse(localStorage.getItem("library"))||[];r(e.id)?(t=t.filter((function(t){return t.id!=e.id})),localStorage.setItem("library",JSON.stringify(t))):(t.push(e),localStorage.setItem("library",JSON.stringify(t)))}}else if("watch-trailer"===e.target.id){if(a&&a.key){var s='\n        <button class="close-btn">X</button>\n        <iframe width="560" height="315" src="https://www.youtube.com/embed/'.concat(a.key,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n    ');h.innerHTML=s,h.classList.remove("is-hidden")}else{h.classList.add("error-container");h.innerHTML='\n        <button class="close-btn">X</button>\n        <p class="text-warning">OOPS...<br>\n        We are very sorry!<br>\n        But we couldn’t find the trailer.</p>\n    ',h.classList.remove("is-hidden")}h.querySelector(".close-btn").addEventListener("click",(function(){h.classList.add("is-hidden")}))}}))):(i.style.background="url('../images/hero-image.jpg') !important",i.style.backgroundSize="cover",i.style.backgroundPosition="center",i.style.backgroundRepeat="no-repeat",l.textContent="Let’s Make Your Own Cinema",v.textContent="Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience.",'<button class="get-started-button">Get Started</button>',f.innerHTML='<button class="get-started-button">Get Started</button>');case 18:case"end":return e.stop()}var t,s}),t)})));return function(){return t.apply(this,arguments)}}();p()}();
//# sourceMappingURL=my-library.b6469d93.js.map

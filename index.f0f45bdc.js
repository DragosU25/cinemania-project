var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},t=e.parcelRequirea071;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){a[e]=n},e.parcelRequirea071=t);var i=t("2bk9a");const o=(new Date).toISOString().split("T")[0];(async()=>{const e=await(0,i.getGenres)(),n=(e=>e&&0!==e.length?e[Math.floor(Math.random()*e.length)]:null)(await(async()=>(await(0,i.getUpcomingMovies)()).filter((e=>e.release_date<=o)))()),a=document.querySelector(".upcoming-movie-container"),t=n.backdrop_path?n.backdrop_path:"default-poster.jpg",l=n.genre_ids.map((n=>e[n]||"Unknown")).join(", ");if(n){let e=`\n      <div class="image-container"  style="background-image: url('https://image.tmdb.org/t/p/original${t}')">\n      </div>\n      <div class="upcoming-movie-details-container">\n      <h2 class="upcoming-movie-title">${n.title}</h2>\n\n       <div class="movie-info">\n        <div class="upcoming-movie-details-flex-container">\n        <div class="release-date ">\n            <span>Release date</span>\n            <span class="date align-left">${n.release_date}</span>\n        </div>\n        <div class="votes">\n            <span>Vote / Votes</span>\n            <span class="vote-count align-left">${n.vote_count} / ${n.vote_average}</span>\n        </div>\n        </div>\n        <div class="upcoming-movie-details-flex-container">\n        <div class="popularity">\n            <span>Popularity</span>\n            <span class="popularity-score align-left">${n.popularity}</span>\n        </div>\n        <div class="genre">\n            <span>Genre</span>\n            <span class="genre-type align-left">${l}</span>\n        </div>\n        </div>\n        <div class="about">\n            <h2>ABOUT</h2>\n            <p>${n.overview}</p>\n        </div>\n        <button class="add-to-library-btn">Add to my library</button>\n    </div>\n      </div>\n        `;a.innerHTML=e;const i=document.querySelector(".add-to-library-btn");i.addEventListener("click",(()=>{s(n),i.textContent=o(n.id)?"Remove from library":"Add to my library"}));const o=e=>(JSON.parse(localStorage.getItem("library"))||[]).some((n=>n.id==e)),s=e=>{let a=JSON.parse(localStorage.getItem("library"))||[];o(e.id)?(a=a.filter((e=>e.id!=n.id)),localStorage.setItem("library",JSON.stringify(a))):(a.push(e),localStorage.setItem("library",JSON.stringify(a)))}}})();
//# sourceMappingURL=index.f0f45bdc.js.map

var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequirea071;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,i.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequirea071=i);var s=i("2bk9a");(async()=>{try{const e=await(0,s.getGenres)(),t=await(0,s.getWeekTrendingMovies)(),n=document.querySelector(".week-trending-container"),i=document.getElementById("see-all-btn"),r=document.querySelector(".movie-card"),a=window.innerWidth<=768,o=t=>{const n=t.poster_path?t.poster_path:"default-poster.jpg",i=t.genre_ids.map((t=>e[t]||"Unknown")).join(", "),s=t.release_date.split("-")[0];return`\n        <div data-movieid="${t.id}" class="week-movie-card" style="background: linear-gradient(180deg, rgba(0, 0, 0, 0.00) 63.48%, rgba(0, 0, 0, 0.90) 92.16%), url('https://image.tmdb.org/t/p/w500${n}') lightgray">\n          <div>\n            <h2 class="movie-title">${t.title}</h2> \n            <p class="info-title">Rating: ${t.vote_average}</p>\n            <p>Genres: ${i} | ${s}</p>\n          </div>\n        </div>\n      `},d=e=>{n.innerHTML=e.map(o).join("")},l=()=>{const e=a?1:3,n=t.slice(0,e);d(n)},c=()=>{d(t),i.style.display="none"},p=n=>{if(n.target.closest(".week-movie-card")){const i=n.target.closest(".week-movie-card"),s=Number(i.dataset.movieid),a=t.find((e=>e.id===s));if(a){const t=a.poster_path?a.poster_path:"default-poster.jpg",n=a.genre_ids.map((t=>e[t]||"Unknown")).join(", ");let i=`\n            <button class="close-btn">X</button>\n            <div class="trends-movie-details-container-content">\n              <img src="https://image.tmdb.org/t/p/original${t}" alt="${a.title}">\n              <div class="trends-movie-details">\n                <h3 class="trends-movie-title">${a.title}</h3>\n                <div class="trends-movie-info-container">\n                  <div class="trends-movie-info">\n                    <p class="trends-info-title">Vote / Votes</p>\n                    <p><span class="trends-rating-span">${a.vote_average}</span> / <span class="trends-rating-span">${a.vote_count}</span></p>\n                  </div>\n                  <div class="trends-movie-info">\n                    <p class="trends-info-title">Popularity</p><span>${a.popularity}</span>\n                  </div>\n                  <div class="trends-movie-info">\n                    <p class="trends-info-title">Genre</p><span>${n}</span>\n                  </div>\n                </div>\n                <div class="trends-about-info">\n                  <p class="trends-info-title">ABOUT</p>\n                  <p class="trends-overview">${a.overview}</p>\n                </div>\n                <button class="add-to-library-btn">Add to my library</button>\n              </div>\n            </div>\n          `;r.innerHTML=i,r.classList.remove("is-hidden");document.querySelector(".close-btn").addEventListener("click",(()=>{r.classList.add("is-hidden")}));const s=document.querySelector(".add-to-library-btn");s.addEventListener("click",(()=>{d(a),s.textContent=o(a.id)?"Remove from library":"Add to my library"}));const o=e=>(JSON.parse(localStorage.getItem("library"))||[]).some((t=>t.id==e)),d=e=>{let t=JSON.parse(localStorage.getItem("library"))||[];o(e.id)?(t=t.filter((e=>e.id!=a.id)),localStorage.setItem("library",JSON.stringify(t))):(t.push(e),localStorage.setItem("library",JSON.stringify(t)))}}}};i.addEventListener("click",c),n.addEventListener("click",p);const v=()=>{l();n.querySelectorAll(".week-movie-card").length===t.length?i.style.display="none":i.style.display="block"};window.addEventListener("resize",v),l()}catch(e){console.error("Error displaying movie info: ",e)}})();
//# sourceMappingURL=index.10ddf842.js.map

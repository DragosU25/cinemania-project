var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequirea071;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequirea071=i);var a=i("2bk9a");(async()=>{try{const e=await(0,a.getGenres)(),t=await(0,a.getWeekTrendingMovies)(),n=document.querySelector(".week-trending-container"),i=document.getElementById("see-all-btn"),o=document.querySelector(".movie-card"),s=window.innerWidth<=768,r=t=>{const n=t.poster_path?t.poster_path:"default-poster.jpg",i=t.genre_ids.map((t=>e[t]||"Unknown")).join(", "),a=t.release_date.split("-")[0];return`\n        <div data-movieid="${t.id}" class="week-movie-card" style="background: linear-gradient(180deg, rgba(0, 0, 0, 0.00) 63.48%, rgba(0, 0, 0, 0.90) 92.16%), url('https://image.tmdb.org/t/p/w500${n}') lightgray">\n          <div>\n            <h2 class="movie-title">${t.title}</h2> \n            <p class="info-title">Rating: ${t.vote_average}</p>\n            <p>Genres: ${i} | ${a}</p>\n          </div>\n        </div>\n      `},l=e=>{n.innerHTML=e.map(r).join("")},d=()=>{const e=s?1:3,n=t.slice(0,e);l(n)},c=()=>{l(t),i.style.display="none"},p=n=>{if(n.target.closest(".week-movie-card")){const i=n.target.closest(".week-movie-card"),a=Number(i.dataset.movieid),s=t.find((e=>e.id===a));if(s){const t=s.poster_path?s.poster_path:"default-poster.jpg",n=s.genre_ids.map((t=>e[t]||"Unknown")).join(", ");let i=`\n            <button class="close-btn">X</button>\n            <div class="movie-details-container-content">\n              <img src="https://image.tmdb.org/t/p/original${t}" alt="${s.title}">\n              <div class="movie-details">\n                <h3 class="movie-title">${s.title}</h3>\n                <div class="movie-info-container">\n                  <div class="movie-info">\n                    <p class="info-title">Vote / Votes</p>\n                    <p><span class="rating-span">${s.vote_average}</span> / <span class="rating-span">${s.vote_count}</span></p>\n                  </div>\n                  <div class="movie-info">\n                    <p class="info-title">Popularity</p><span>${s.popularity}</span>\n                  </div>\n                  <div class="movie-info">\n                    <p class="info-title">Genre</p><span>${n}</span>\n                  </div>\n                </div>\n                <div class="about-info">\n                  <p class="info-title">ABOUT</p>\n                  <p class="overview">${s.overview}</p>\n                </div>\n                <button class="add-to-library-btn">Add to my library</button>\n              </div>\n            </div>\n          `;o.innerHTML=i,o.classList.remove("is-hidden");document.querySelector(".close-btn").addEventListener("click",(()=>{o.classList.add("is-hidden")}));const a=document.querySelector(".add-to-library-btn");a.addEventListener("click",(()=>{l(s),a.textContent=r(s.id)?"Remove from library":"Add to my library"}));const r=e=>(JSON.parse(localStorage.getItem("library"))||[]).some((t=>t.id==e)),l=e=>{let t=JSON.parse(localStorage.getItem("library"))||[];r(e.id)?(t=t.filter((e=>e.id!=s.id)),localStorage.setItem("library",JSON.stringify(t))):(t.push(e),localStorage.setItem("library",JSON.stringify(t)))}}}};i.addEventListener("click",c),n.addEventListener("click",p);const v=()=>{d();n.querySelectorAll(".week-movie-card").length===t.length?i.style.display="none":i.style.display="block"};window.addEventListener("resize",v),d()}catch(e){console.error("Error displaying movie info: ",e)}})();
//# sourceMappingURL=index.a73b8cf3.js.map
